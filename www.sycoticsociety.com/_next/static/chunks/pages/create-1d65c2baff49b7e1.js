(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2417],{32519:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create",function(){return a(38442)}])},38442:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var r=a(34051),n=a.n(r),s=a(85893),c=a(67294),i=a(95355),o=(a(73372),a(27886)),l=(a(9473),a(74954),a(93554)),d=a(30771),u=a(98456),h=a(11163);function m(e,t,a,r,n,s,c){try{var i=e[s](c),o=i.value}catch(l){return void a(l)}i.done?t(o):Promise.resolve(o).then(r,n)}function x(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var s=e.apply(t,a);function c(e){m(s,r,n,c,i,"next",e)}function i(e){m(s,r,n,c,i,"throw",e)}c(void 0)}))}}var f=function(){var e=(0,i.SF)(),t=(0,i.U6)(),a=(0,c.useState)(null),r=a[0],m=a[1],f=(0,c.useState)(""),p=f[0],v=f[1],b=(0,c.useState)(""),j=b[0],g=b[1],w=(0,c.useState)(""),y=w[0],N=w[1],k=(0,c.useState)("Polygon"),P=k[0],S=k[1],G=(0,c.useState)(!1),T=G[0],z=G[1],C=(0,h.useRouter)(),F=(0,i.cq)("0xf59d868542F170DD9cDbc3D267dABB3D4A80a991"),_=F.contract,M=(F.isLoading,(0,i.R_)().mutateAsync),A=(0,i.YZ)(_,e),V=A.data,D=(A.loadingNfts,A.error);function H(e){return O.apply(this,arguments)}function O(){return(O=x(n().mark((function e(t){var a,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.createElement("img"),r=new Promise((function(e,t){a.onload=function(){var t=a.naturalWidth,r=a.naturalHeight;e({width:t,height:r})},a.onerror=t})),a.src=t,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(){var t=x(n().mark((function t(){var a,s,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,z(!0),t.next=4,H(y);case 4:if(a=t.sent,s=a.width,a.height===s){t.next=10;break}return C.reload(),t.abrupt("return",alert("The image must be a square."));case 10:return t.next=12,M({data:[r],options:{uploadWithGatewayUrl:!0,uploadWithoutDirectory:!0}});case 12:c=t.sent,e?"Polygon"==P?fetch("/api/mintNft",{method:"POST",body:JSON.stringify({authorAddress:e,nftName:p||"",nftDesc:j||"",nftImage:(null===c||void 0===c?void 0:c[0])||""})}).then((function(e){if(500==e.status)throw D;z(!1),C.reload(),alert("The nft was minted successfully!")})).catch((function(e){alert("There was an error minting NFT. + ".concat(e.msg),e),C.reload()})):fetch("/api/mintNftArbitrum",{method:"POST",body:JSON.stringify({authorAddress:e,nftName:p||"",nftDesc:j||"",nftImage:(null===c||void 0===c?void 0:c[0])||""}).then((function(e){if(500==e.status)throw D;z(!1),C.reload(),alert("The nft was minted successfully!")})).catch((function(e){alert("There was an error minting NFT. + ".concat(e.msg),e),C.reload()}))}):alert("Please connect your wallet!"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("An error occurred trying to mint the NFT:",t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{title:"Create your Nfts || Sycotic Society"}),(0,s.jsxs)("section",{className:"relative py-24",children:[(0,s.jsx)("picture",{className:"pointer-events-none absolute inset-0 -z-10 dark:hidden",children:(0,s.jsx)("img",{src:"/images/gradient_light.jpg",alt:"gradient",className:"h-full w-full"})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"font-display text-jacarta-700 py-8 text-center text-4xl font-medium dark:text-white",children:"Create"}),(0,s.jsxs)("div",{className:"mx-auto max-w-[48.125rem]",children:[!e&&(0,s.jsx)("h3",{className:"mx-auto text-lg mb-4",children:"Connect your wallet to create nfts."}),(0,s.jsxs)("div",{id:"#nfts",className:"mb-6",children:[(0,s.jsxs)("label",{className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:["Image, Video, Audio, or 3D Model",(0,s.jsx)("span",{className:"text-red",children:"*"})]}),r?(0,s.jsxs)("p",{className:"dark:text-jacarta-300 text-2xs mb-3",children:["successfully uploaded : ",r.name]}):(0,s.jsx)("p",{className:"dark:text-jacarta-300 text-2xs mb-3",children:"Drag or choose your file to upload"}),(0,s.jsxs)("div",{className:"dark:bg-jacarta-700 dark:border-jacarta-600 border-jacarta-100 !border-opacity-40 group relative flex max-w-md flex-col items-center justify-center rounded-lg border-2 border-dashed bg-white py-20 px-5 text-center",children:[(0,s.jsxs)("div",{className:"relative z-10 cursor-pointer",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"fill-jacarta-500 mb-4 inline-block dark:fill-white",children:[(0,s.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,s.jsx)("path",{d:"M16 13l6.964 4.062-2.973.85 2.125 3.681-1.732 1-2.125-3.68-2.223 2.15L16 13zm-2-7h2v2h5a1 1 0 0 1 1 1v4h-2v-3H10v10h4v2H9a1 1 0 0 1-1-1v-5H6v-2h2V9a1 1 0 0 1 1-1h5V6zM4 14v2H2v-2h2zm0-4v2H2v-2h2zm0-4v2H2V6h2zm0-4v2H2V2h2zm4 0v2H6V2h2zm4 0v2h-2V2h2zm4 0v2h-2V2h2z"})]}),(0,s.jsx)("p",{className:"dark:text-jacarta-300 mx-auto max-w-xs text-xs",children:"JPG, PNG, GIF, SVG, MP4, WEBM, MP3, WAV, OGG, GLB, GLTF. Max size: 100 MB"})]}),(0,s.jsx)("div",{className:"dark:bg-accent !border-opacity-40 bg-jacarta-50 absolute inset-4 cursor-pointer rounded opacity-0 group-hover:opacity-100",children:(0,s.jsx)(o.b,{handleChange:function(e){m(e),N(URL.createObjectURL(e))},name:"file",types:["JPG","PNG","GIF","SVG","MP4","WEBM","MP3","WAV","OGG","GLB","GLTF"],classes:"file-drag",maxSize:100,minSize:0})})]}),y&&(0,s.jsx)("img",{src:y,className:"rounded-sm max-w-xs max-h-xs mt-4"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("label",{htmlFor:"item-name",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:["Name",(0,s.jsx)("span",{className:"text-red",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"item-name",className:"dark:bg-jacarta-700 border-jacarta-100 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 !border-opacity-40 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",placeholder:"Item name",value:p,onChange:function(e){return v(e.target.value)},required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"item-description",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:"Description"}),(0,s.jsxs)("p",{className:"dark:text-jacarta-300 text-2xs mb-3",children:["The description will be included on the ","item's"," detail page underneath its image. Markdown syntax is supported."]}),(0,s.jsx)("textarea",{id:"item-description",className:"dark:bg-jacarta-700 border-jacarta-100 !border-opacity-40 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",rows:"4",required:!0,value:j,onChange:function(e){return g(e.target.value)},placeholder:"Provide a detailed description of your item."})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"item-collection",className:"font-display text-jacarta-700 mb-2 block dark:text-white",children:"Collection"}),(0,s.jsx)("p",{className:"dark:text-jacarta-300 text-2xs mb-3",children:"Select the collection where you want your NFT to appear."}),(0,s.jsxs)("select",{id:"item-collection",className:"dark:bg-jacarta-700 border-jacarta-100 !border-opacity-40 hover:ring-accent/10 focus:ring-accent dark:border-jacarta-600 dark:placeholder:text-jacarta-300 w-full rounded-lg py-3 px-3 hover:ring-2 dark:text-white",required:!0,value:P,onChange:function(e){return S(e.target.value)},placeholder:"Provide a detailed description of your item.",children:[(0,s.jsx)("option",{value:"Arbitrum",children:"Arbitrum"}),(0,s.jsx)("option",{value:"Polygon",children:"Polygon"})]})]}),T?(0,s.jsx)(u.Z,{sx:{color:"red"}}):e?(0,s.jsx)("button",{onClick:B,disabled:!r&&!p&&!j&&!e&&!P,className:r&&p&&j&&e&&P?"bg-accent cursor-default rounded-full py-3 px-8 text-center font-semibold text-white transition-all":"bg-accent-lighter cursor-default rounded-full py-3 px-8 text-center font-semibold text-white transition-all",children:"Create"}):(0,s.jsx)("button",{onClick:function(){return t()},className:"bg-accent cursor-default rounded-full py-3 px-8 text-center font-semibold text-white transition-all",children:"Connect Your Wallet"})]}),V&&(0,s.jsx)(d.Iv,{ownedNFTs:V})]})]})]})}}},function(e){e.O(0,[1228,2757,7083,6760,7367,1744,3429,2538,9929,3892,771,9774,2888,179],(function(){return t=32519,e(e.s=t);var t}));var t=e.O();_N_E=t}]);